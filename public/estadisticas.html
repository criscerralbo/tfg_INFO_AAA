<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Estadisticas del Grupo</title>

  <link rel="stylesheet" href="/css/test_sin.css">
  <link rel="stylesheet" href="/css/estadisticas.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/responsive-overrides.css"> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Estadisticas del Grupo</h1>
    <div class="user-section">
        <button class="btn-back" onclick="window.history.back()">← Volver</button>
            
      <button id="logout-button" class="logout-button">Cerrar Sesión</button>
      <div class="user-icon">
        <a href="/perfil.html"><img src="/images/usuario.png" alt="Usuario"></a>
      </div>
      <!-- dentro de tu <header> -->

    </div>

  </header>

  <main id="stats-wrapper">
 <!-- Botones de descarga -->
 <section class="downloads">
  <button id="btnDescargarResumen">📥 Descargar resumen (Excel)</button>
  <button id="btnDescargarIntentos">📥 Descargar detalle de intentos (Excel)</button>
</section>

<section>
  <h2>Resumen</h2>
  <div id="summary" class="summary-cards">
    <!-- Aquí el JS inyecta tres tarjetas con: alumnos activos, intentos totales y media global -->
  </div>
</section>
    <section>
      <h2>Actividad (últimos 30 días)</h2>
      <canvas id="activityChart" width="400" height="200"></canvas>
    </section>

    <section>
      <h2>Histograma de notas</h2>
      <canvas id="scoreChart" width="400" height="200"></canvas>
    </section>

  <section>
    <h2>Top 10 Preguntas con más fallos</h2>
    <ul id="top-questions">
      <!-- Aquí el JS inyecta los <li> con porcentaje de fallos y texto de la pregunta -->
    </ul>
  </section>

    <!-- LISTAS DETALLADAS EXISTENTES -->
    <section>
      <h2>Quizzes</h2>
      <div id="quiz-stats" class="stats-grid"></div>
    </section>
    <section>
      <h2>Emparejamientos</h2>
      <div id="match-stats" class="stats-grid"></div>
    </section>
  </main>
  <div id="logoutModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h3>¿Estás seguro que deseas cerrar sesión?</h3>
      <div class="modal-buttons">
        <button id="confirmLogout" class="confirm-button">Sí, cerrar sesión</button>
        <button id="cancelLogout" class="cancel-button">Cancelar</button>
      </div>
    </div>
  </div>
  <footer>
    © 2025 - TFG Cristina Cerralbo
  </footer>

  <script src="estadisticas.js"></script>
</body>
</html>